{"version":3,"sources":["src/Board.ts","src/player.ts","src/game.ts","src/app.ts","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":"AIAA,ACAA,IDAIA,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAI,ACAA,CAAC,cAAc,CAAC;ADCpC,ACCA,SDDSZ,ACCAa,UAAUA,CAACC,IAAI,EAAE,CDDCd,CAAA,EAAG;EAC5B,ACCA,IDDI,ACCAe,CDDChB,MCCM,GDDG,ACCAe,EDDE,ECCE,CAACE,SAAS,CAAC,CAAC;EAC9BD,EDDEhB,KCCK,CAACkB,GDDG,GAAGhB,ACCA,GAAG,SDDS,CAAC,CAAC,CCCC;EDA7B,ECCEa,IAAI,CAACI,MAAM,CAAC,CAAC;AFLjB,ECME,ACAA,CAAC,CFNH,KCMSnB,CDNT,GAAA,KCMkB,EDNlB,CAAA,QAAA,CAAA;ACOA,AJAA,AGNA,ADDA,ADEA,EIKEgB,ELAF,AEPA,ADEY,GEDZ,CHMA,AGNA,CEMS,CAACI,CLAV,AEPA,GGOc,AHPd,ADKC,GIEgBL,IAAI,AHPrB,CGOsBK,AHPtB,EFOA,EKA0B,CAACC,IHP3B,CGOgC,AHPhC,CGOiC,GAAG,ALApC,CKAqC,CAAC,CAAC,CAAC,EFNxC,CEM2C,AFN3C,GEM8C,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;ADE3D,ADPA,ADDA,ADCA,CAAA,CIMER,ALGA,EEVF,EGOM,CAACS,AFNP,CAAA,CCOStB,EJEP,ACTU,CCDZ,GFUE,AEVF,CFU8B,CKHb,CAACuB,GDCGvB,AHPC,CGOD,AFRrB,CAAA,ADCsB,CGOE,AJEwB,EAAU,EGT1D,CAAA,CEM8B,CAACc,ALGuC,EAAA,AEVtE,CAAA,IGOsC,EAAED,IAAI,CAACW,WAAW,CAAC;AACzD,AFLA,ADDA,EEOE,AHPA,EDQ4B,AGP1B,ADDJ,IFQ8B,AER9B,CFQ8B,CGP1B,CAAA,ADDJ,CDAE,CAAA,EECM,CAAA,CHO8B,AGP5B,GHOoB,ACR5B,CAAA,GCAF,ADAE,IDQoC,GCRrB,KCAjB;AGQA,EDAE,AFAA,ADPA,EIOEC,ALAsD,EIApD,EJAoD,CAAA,EEAxD,CDPA,CAAA,CIOY,ALAiD,CEA7D,CAAA,CGAe,ALAyC,CEAxD,EDPA,CIOmB,AJPnB,CDO6D,ECP7D,OAAe;AIQjB,AJPA,CAAC,EAHW,CGUR,AJJM,IAAA,CKIDC,ALJC,CIIA,GHVY,CGURzB,EHVF,CDMM,CKIAyB,CDAC,ACAD,CDAA,AJJG,CIIF,ACAE,EJVT,CAAA,CDMc,SCNJ,KAAV,OAAA,CAAA,UAAU,GAAA,CAAA,CAAA,CAAA,CAAA;AAKtB,EGME,ACAA,CDAC,CAAC,AJJO,AELA,ADGX,EIMMD,ELJK,AELA,CFKA,AELA,CDGX,CGMWvB,CJJG,CCFd,CGMc,AFTE,CFKc,CIId,ACAA,CHTG,CGSD,GHTK,EFKe,CAAC,ECFvC,ECHuB,CAAA,KAAK,CAAA,CAAE,CFKsB,CAAC,ACFrD,KDE0D,CAAC;ECCzD,EGIE,ACAA,ALFA,AEPO,IESHC,AJFA,AEPG,CFOF,AEPE,EDKT,CDEU,CAAC,EIEE,EHJb,CGIgB,AHJY,CGIX,EAAE,CJFC,AEPE,ADKsB,CDEvB,CIECD,AHJsB,CCLnB,CFOD,CIEC,AJFA,CIECE,CFTG,IESE,AJFA,CAAC,CIECC,CFTJ,CAAA,GESS,CAAC,IFTF,CAAC,OAAO,CAAC,kDESwD,CAAC;ECCvG,ALFA,EIEE,AFTO,ADImB,IGKtBF,AFTG,ADImB,CCJnB,ADImB,IAAI,EGKnB,CHLe,CGKb,GHLiB,ECJV,GAAG,IAAI,OAAA,CAAA,QAAQ,CAAC,OAAO,CAAC;EGW9CsB,ALFA,ACHA,ECJS,EEQL,AJDJ,CAAA,CEPS,CAAA,GGSC,CDDCnB,ECCEqB,CLFb,CAAA,GAAG,AEPiB,GEQC,AJDrB,AEPuB,CEQDxB,CCCC,CAAC,CHTG,IEQE,CAAC,CAAC,AJD3B,CIC4B,CAAC,AFRN,CAAA,EGSS,ALFpB,EAAA,EEPiB,CAAC,QAAA,CAAA,UAAU,CAAC,KAAK,CAAC;EDKrD,EGII,ACCA,ALFA,AEPO,IGSHyB,ALFA,AEPG,CFOF,AEPE,ADIX,IIKa,CLFC,CCHb,CIKeC,CLFC,GEPK,EFOA,CEPG,CGSD,CAACC,EHTI,QAAA,CAAA,KGSY,CAAC,AHTP,CAAC,QAAA,CAAA,UAAU,CAAC,GGSmB,CAAC,CHTf,CAAC;ADIrD,CANA,CGWE,AJDA,ACVF,CDUG,ACVH,CIYI,AHPA,IAAM,CGOD,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,CHPG,EGOAH,CHPG,IGOE,CAACI,GHPK,CAAC,EGOA,EAAED,CAAC,EAAE,EAAE,IHPM,CAAC,kBAAkB,CAAC;ADLxD,EGaX,AJDA,EENE,CAAA,CGOE,ALDJ,CAAA,AENE,ADNS,CAAA,CGaJ,CCACrB,AHPN,EEOQ,EHbC,EIaG,ALDd,CKCeJ,ALDf,ACZW,MAAA,CCMK,CFMR,EKCiB,CAACsB,ALD1B,CENgB,IGOe,AHPf,CGOgBG,CAAC,CAAC,CAACb,AHPjC,GFMF,CKCuC,CAAC,KAAKR,IHP7B,EGOmC,CAACV,EHPpC,KAAA,CAAA,GAAA,CGOgD,CAAC,CAAC,EAAE,AHPpD,CAAA,GAAd,cAAc,CAAE,UAAU,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,MAAM,CAAA,CAAE;AEQxC,IJDI,AENA,IGOIY,GLDG,IAAI,CAAC,EKCE,AHPA,CGOCgB,ELDE,EENH,CGOM,CAACG,CAAC,CAAC,AHPT,CGOU,GHPxB,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,cAAc,CAAE,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AES/C,EJFE,AENA,CFMC,GKCG,GDCGzB,UAAUA,CAACC,GAAG,EAAE;EACvB,AJDA,AEPF,EGOI,ELAF,CAAA,EICO,AFRT,CEQU,EAAE,CFRX,EEQcA,CJDb,CAAA,CICgB,EAAEC,GJDZ,GAAN,CICyB,CAAC,UJD1B,sEIC0G,EAAE,IAAI,CAAC,GAAG,GAAG;AACzH,AFTA,CAbA,CAAA,CAAA,CGsBIiB,ALDA,IAAI,CAAC,KKCK,GAAG,ALDA,GAAG,CKCC,GLDG;AIGxBhB,AFxBa,EGuBX,ALDA,CKCC,ALDA,EKCE,EDCE,ACDA,AHvBM,CEwBLT,ACDA,AHvBK,IAAA,GAAA,IAAA,CEwBO,GAAGD,kBAAkB;AACzCU,ACDA,ELAE,IAAA,CICK,AJDL,CICMH,QJDN,CAAA,CICgB,GAAGA,IJDX,GAAR,GIC6B,SJD7B;AKEF2B,ILDI,EKCE,CAACxB,CLDC,CAAC,KKCK,GAAGiB,ALDA,GAAG,KAAK,CK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","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { Piece } from \"./Piece\";\r\n\r\nexport interface Position {\r\n  row: number;\r\n  col: number;\r\n}\r\n\r\nexport class Cell {\r\n  private isActive = false;\r\n  readonly _el: HTMLElement = document.createElement(\"div\");\r\n\r\n  constructor(public readonly position: Position, private piece: Piece) {\r\n    this._el.classList.add(\"cell\");\r\n  }\r\n\r\n  put(piece: Piece) {\r\n    this.piece = piece;\r\n  }\r\n\r\n  getPiece() {\r\n    return this.piece;\r\n  }\r\n\r\n  active() {\r\n    this.isActive = true;\r\n  }\r\n\r\n  deactive() {\r\n    this.isActive = false;\r\n  }\r\n\r\n  render() {\r\n    if (this.isActive) {\r\n      this._el.classList.add(\"active\");\r\n    } else {\r\n      this._el.classList.remove(\"active\");\r\n    }\r\n\r\n    this._el.innerHTML = this.piece ? this.piece.render() : \"\";\r\n  }\r\n}\r\n\r\nexport class Board {\r\n  cells: Cell[] = [];\r\n  _el: HTMLElement = document.createElement(\"div\");\r\n\r\n  constructor() {\r\n    this._el.className = \"board\";\r\n\r\n    for (let row = 0; row < 4; row++) {\r\n      const rowEl = document.createElement(\"div\");\r\n      rowEl.className = \"row\";\r\n      this._el.appendChild(rowEl);\r\n\r\n      for (let col = 0; col < 3; col++) {\r\n        const cell = new Cell({ row, col }, null);\r\n        this.cells.push(cell);\r\n        rowEl.appendChild(cell._el);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.cells.forEach((v) => v.render());\r\n  }\r\n}\r\n\r\nexport class DeadZone {\r\n  private cells: Cell[] = [];\r\n  readonly deadzoneEl = document\r\n    .getElementById(`${this.type}_deadzone`)\r\n    ?.querySelector(\".card-body\");\r\n\r\n  constructor(public type: \"upper\" | \"lower\") {\r\n    for (let col = 0; col < 4; col++) {\r\n      const cell = new Cell({ col, row: 0 }, null);\r\n      this.cells.push(cell);\r\n      this.deadzoneEl?.appendChild(cell._el);\r\n    }\r\n  }\r\n\r\n  put(piece: Piece) {\r\n    const emptyCell = this.cells.find((v) => v.getPiece() == null);\r\n    emptyCell?.put(piece);\r\n    emptyCell?.render();\r\n  }\r\n\r\n  render() {\r\n    this.cells.forEach((v) => v.render());\r\n  }\r\n}\r\n","import { Piece } from \"./Piece\";\r\n\r\nexport enum PlayerType {\r\n  UPPER = \"UPPER\",\r\n  LOWER = \"LOWER\",\r\n}\r\n\r\nexport class Player {\r\n  private pieces: Piece[]\r\n\r\n  constructor(public readonly type: PlayerType) {\r\n    \r\n  }\r\n}\r\n","import { Board, DeadZone } from \"./Board\";\r\nimport { Player, PlayerType } from \"./player\";\r\n\r\nexport class Game {\r\n  readonly board = new Board();\r\n  readonly upperDeadZone = new DeadZone(\"upper\");\r\n  readonly lowerDeadZone = new DeadZone(\"lower\");\r\n\r\n  readonly upperPlayer = new Player(PlayerType.UPPER);\r\n  readonly lowerPlayer = new Player(PlayerType.LOWER);\r\n\r\n  constructor() {\r\n    const boardContainer = document.querySelector(\".board-container\");\r\n    boardContainer?.firstChild?.remove();\r\n    boardContainer?.appendChild(this.board._el);\r\n  }\r\n}\r\n","import { Game } from \"./game\";\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport './styles/style.css'\r\n\r\nnew Game()","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}